<!DOCTYPE html>
<html>
<title>XML to JSON Mapping Sample</title>
<head>
</head>
<body>
	<div id="content">
		<h1>XML to JSON Mapping Sample</h1>
		<h3>About the Sample</h3>
		<p>
			<span style="font-weight: 400;">This sample </span><span
				style="font-weight: 400;">demonstrates XML to JSON data
				mapping capability of Enterprise Integrator.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Three projects get created
				with this template. </span><strong>ESB Config Project</strong><span
				style="font-weight: 400;"> contains a </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Proxy+Services"><span
				style="font-weight: 400;">Proxy Service</span></a><span
				style="font-weight: 400;"> called
				&lsquo;EngineerEmployeeService&rsquo;. The </span><strong>Registry
				Project</strong><span style="font-weight: 400;"> contains the data
				mapping configuration files. The </span><strong>Composite
				Application Project</strong><span style="font-weight: 400;"> is used
				to package and export the artifacts created within the ESB and
				Registry projects.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The service transform XML
				message into a JSON message by data mapper and respond back with
				transformed payload to the client.</span>
		</p>
		<h3>Executing the sample</h3>
		<ol>
			<li><span style="font-weight: 400;"> Configure EI server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Attach an EI server runtime
				into the Developer Studio following the instructions given below if
				you haven&rsquo;t already done.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Navigate to the Developer
				Studio Dashboard and click </span><strong>Server</strong><span
				style="font-weight: 400;"> under </span><strong>Add Server</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">In the &lsquo;</span><strong>Define
				a New Server</strong><span style="font-weight: 400;">&rsquo; dialog
				box, expand the WSO2 folder, and select the respective product and
				version.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Click </span><strong>Next</strong><span
				style="font-weight: 400;">, click </span><strong>Browse</strong><span
				style="font-weight: 400;"> that is next to CARBON_HOME, and
				select the WSO2 EI distribution directory, to define the server
				runtime environment and click </span><strong>Next</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Review the default port
				details for the ESB profile of WSO2 EI. Typically, you can leave
				these unchanged, but if you are already running another server on
				these ports, specify unused ports here. (See </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Default+Ports+of+WSO2+Products"><span
				style="font-weight: 400;">Default Ports of WSO2 Products</span></a><span
				style="font-weight: 400;"> for more information.) Click </span><strong>Next</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<ol start="2">
			<li><span style="font-weight: 400;"> Deploy the CApp
					project.</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">To deploy the CApp project in
				the ESB server that we just added, select relevant project from the
				list, click </span><strong>Add</strong><span style="font-weight: 400;">
				to move it into the Configured list, and then click </span><strong>Finish</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Please refer to </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Deploying+Composite+Applications+in+the+Server#DeployingCompositeApplicationsintheServer-DeployingusingtheToolinginterface"><span
				style="font-weight: 400;">this resource</span></a><span
				style="font-weight: 400;"> for more information.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The ESB server of WSO2 EI is
				now added inside Eclipse tooling. </span><span style="font-weight: 400;">On
				the Servers tab, </span>
		</p>
		<ol start="3">
			<li><span style="font-weight: 400;"> Start the server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">you see that the server is
				currently stopped. Click </span><strong>Play </strong><span
				style="font-weight: 400;">butto</span><strong>n </strong><span
				style="font-weight: 400;">on the Servers tab's toolbar to
				start the server. </span>
		</p>
		<p>
			<span style="font-weight: 400;">If you are prompted to save
				changes to any of the artifact files, click </span><strong>Yes</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<p>
			<span style="font-weight: 400;">As the server starts, the
				Console tab appear. You should see messages indicating that the
				C-App was successfully deployed. The C-App will now be available in
				the ESB profile's management console (</span><strong>Manage -&gt;
				Carbon Applications -&gt; List</strong><span style="font-weight: 400;">).</span>
		</p>
		<ol start="4">
			<li><span style="font-weight: 400;"> Invoke the service</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Invoke the Proxy service using
				an HTTP client like cURL.</span>
		</p>
		<p>
			<span style="font-weight: 400;">curl -X POST -d
				@datamapping/input.xml
				http://localhost:8280/services/EngineerEmployeeService -H
				"Content-Type: application/xml"</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">request.xml</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">===========</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">&lt;ns1:employees
				xmlns:ns1="http://wso2.employee.info"
				xmlns:ns2="http://wso2.employee.address"&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:firstname&gt;Mike&lt;/ns1:firstname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:lastname&gt;Jhonson&lt;/ns1:lastname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="home"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="30000"&gt;KS&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;main
				rd&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="office"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="10003"&gt;NY&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;cross
				street&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;/ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:firstname&gt;Patric&lt;/ns1:firstname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:lastname&gt;Jane&lt;/ns1:lastname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="home"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="60000"&gt;Melborne&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;park
				street&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="office"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="10003"&gt;NY&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;cross
				street&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;/ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:firstname&gt;Thelesa&lt;/ns1:firstname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns1:lastname&gt;Lisbon&lt;/ns1:lastname&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="home"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="60000"&gt;Madrid&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;Palace
				street&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:address
				location="office"&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:city
				postalcode="10003"&gt;NY&lt;/ns2:city&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ns2:road&gt;cross
				street&lt;/ns2:road&gt;</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:address&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ns2:addresses&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"> &nbsp;&nbsp;&lt;/ns1:employee&gt;</span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">&lt;/ns1:employees&gt;</span>
		</p>
	</div>
</body>
</html>
