<!DOCTYPE html>
<html>
<title>File Transfer Sample</title>
<head>
</head>
<body>
	<div id="content">
		<h1>File Transfer Sample</h1>
		<h3>About the Sample</h3>
		<p>
			<span style="font-weight: 400;">This template demonstrates
				some of the file handling capabilities of enterprise integrator.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Two projects get created with
				this template. </span><strong>ESB project</strong><span
				style="font-weight: 400;"> contains all the ESB artifacts and
				the </span><strong>Composite Application project</strong><span
				style="font-weight: 400;"> is used to package and export the
				artifacts created within the ESB project.</span>
		</p>
		<p>
			<span style="font-weight: 400;">ESB project contains an </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Inbound+Endpoints"><span
				style="font-weight: 400;">Inbound Endpoint</span></a><span
				style="font-weight: 400;"> called
				StudentDataFileProcessInboundEP which polls a particular location
				for available files. Also, it contains two sequences called
				StudentDataFileProcessSeq and StudentDataFileErrorSeq.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The file inbound endpoint
				listening on file path specified in the </span><strong>transport.vfs.FileURI</strong><span
				style="font-weight: 400;"> parameter. The </span><strong>transport.vfs.FileNamePattern</strong><span
				style="font-weight: 400;"> represent the interested file
				pattern to process. Once the file inbound endpoint read a file
				successfully, content is injected to the sequence for further
				mediation. In the sample, StudentDataFileProcessSeq logs the content
				of the received message.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Once read is successful, file
				will be moved to a location define in the </span><strong>transport.vfs.MoveAfterProcess</strong><span
				style="font-weight: 400;"> parameter. If an error occurred
				while reading, then the file will be moved to the location specified
				in the </span><strong>transport.vfs.MoveAfterFailure</strong><span
				style="font-weight: 400;"> parameter.</span>
		</p>
		<h3>Executing the sample</h3>
		<ol>
			<li><span style="font-weight: 400;"> Configure the
					directory names in your local machine</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Replace absolute folder path
				in following properties</span>
		</p>
		<p>
			<span style="font-weight: 400;">-</span><span
				style="font-weight: 400;">transport.vfs.FileURI</span><span
				style="font-weight: 400;"> (</span><span style="font-weight: 400;">file:///home/user/in)</span>
		</p>
		<p>
			<span style="font-weight: 400;">-</span><span
				style="font-weight: 400;">transport.vfs.MoveAfterProcess</span><span
				style="font-weight: 400;"> (</span><span style="font-weight: 400;">file:///home/user/out)</span>
		</p>
		<p>
			<span style="font-weight: 400;">-</span><span
				style="font-weight: 400;">transport.vfs.MoveAfterFailure</span><span
				style="font-weight: 400;"> (</span><span style="font-weight: 400;">file:///home/user/error)</span>
		</p>
		<p>
			<span style="font-weight: 400;">Make sure to create folder
				given for the </span><span style="font-weight: 400;">transport.vfs.FileURI</span><span
				style="font-weight: 400;"> in your file system.</span>
		</p>
		<ol start="2">
			<li><span style="font-weight: 400;"> Configure EI server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Attach an EI server runtime
				into the Developer Studio following the instructions given below if
				you haven&rsquo;t already done.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Navigate to the Developer
				Studio Dashboard and click </span><strong>Server</strong><span
				style="font-weight: 400;"> under </span><strong>Add Server</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">In the &lsquo;</span><strong>Define
				a New Server</strong><span style="font-weight: 400;">&rsquo; dialog
				box, expand the WSO2 folder, and select the respective product and
				version.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Click </span><strong>Next</strong><span
				style="font-weight: 400;">, click </span><strong>Browse</strong><span
				style="font-weight: 400;"> that is next to CARBON_HOME, and
				select the WSO2 EI distribution directory, to define the server
				runtime environment and click </span><strong>Next</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Review the default port
				details for the ESB profile of WSO2 EI. Typically, you can leave
				these unchanged, but if you are already running another server on
				these ports, specify unused ports here. (See </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Default+Ports+of+WSO2+Products"><span
				style="font-weight: 400;">Default Ports of WSO2 Products</span></a><span
				style="font-weight: 400;"> for more information.) Click </span><strong>Next</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<ol start="3">
			<li><span style="font-weight: 400;"> Deploy the CApp
					project.</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">To deploy the CApp project in
				the ESB server that we just added, select relevant project from the
				list, click </span><strong>Add</strong><span style="font-weight: 400;">
				to move it into the Configured list, and then click </span><strong>Finish</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Please refer to </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Deploying+Composite+Applications+in+the+Server#DeployingCompositeApplicationsintheServer-DeployingusingtheToolinginterface"><span
				style="font-weight: 400;">this resource</span></a><span
				style="font-weight: 400;"> for more information.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The ESB server of WSO2 EI is
				now added inside Eclipse tooling. </span><span style="font-weight: 400;">On
				the Servers tab, </span>
		</p>
		<ol start="4">
			<li><span style="font-weight: 400;"> Start the server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">You may see that the server is
				currently stopped. Click </span><strong>Play </strong><span
				style="font-weight: 400;">butto</span><strong>n </strong><span
				style="font-weight: 400;">on the Servers tab's toolbar to
				start the server. </span>
		</p>
		<p>
			<span style="font-weight: 400;">If you are prompted to save
				changes to any of the artifact files, click </span><strong>Yes</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<p>
			<span style="font-weight: 400;">As the server starts, the
				Console tab appear. You should see messages indicating that the
				C-App was successfully deployed. The C-App will now be available in
				the ESB profile's management console (</span><strong>Manage -&gt;
				Carbon Applications -&gt; List</strong><span style="font-weight: 400;">).</span>
		</p>
		<ol start="5">
			<li><span style="font-weight: 400;"> Running the file
					handling sample</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">StudentDataFileProcessInboundEP
				process csv files. Copy any .csv file to the &lsquo;</span><span
				style="font-weight: 400;">file:///home/user/in&rsquo;
				directory and you can see the content of the csv file logged in the
				EI console. After processing the csv files, the files will be moved
				to the directory specified in transport.vfs.MoveAfterProcess
				parameter. </span><span style="font-weight: 400;"><br /></span>
		</p>
	</div>
</body>
</html>
