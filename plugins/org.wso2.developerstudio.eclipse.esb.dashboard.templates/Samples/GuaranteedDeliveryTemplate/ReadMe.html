<!DOCTYPE html>
<html>
<title>Guranteed Delivery Sample</title>
<head>
</head>
<body>
	<div id="content">
		<h1>Guranteed Delivery Sample</h1>
		<h3>About the Sample</h3>
		<p>
			<span style="font-weight: 400;">This sample demonstrates the
				Guaranteed Delivery or the Fail safe delivery concept.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Two projects get created with
				this template. </span><strong>ESB project</strong><span
				style="font-weight: 400;"> contains all the ESB artifacts and
				the </span><strong>Composite Application project</strong><span
				style="font-weight: 400;"> is used to package and export the
				artifacts created within the ESB project.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The ESB config project
				consists of a </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Proxy+Services"><span
				style="font-weight: 400;">Proxy service</span></a><span
				style="font-weight: 400;"> called
				&lsquo;UserRegistrationService&rsquo;, an </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Endpoints"><span
				style="font-weight: 400;">Endpoint</span></a><span
				style="font-weight: 400;"> called &lsquo;UserRegistrationEP,
				a </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Message+Stores+and+Message+Processors"><span
				style="font-weight: 400;">Message processor</span></a><span
				style="font-weight: 400;"> called
				&lsquo;UserRegistrationMP&rsquo;, a </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+Message+Stores+and+Message+Processors"><span
				style="font-weight: 400;">Message store</span></a><span
				style="font-weight: 400;"> called
				&lsquo;UserRegistrationMS&rsquo; and two </span><a
				href="https://docs.wso2.com/display/EI630/Mediation+Sequences"><span
				style="font-weight: 400;">Sequences</span></a><span
				style="font-weight: 400;">
				&lsquo;UserRegistrationErrorSeq&rsquo;
				&lsquo;UserRegistrationResponseSeq&rsquo;. </span>
		</p>
		<p>
			<span style="font-weight: 400;">Also it contains a </span><a
				href="https://docs.wso2.com/display/EI630/Working+with+APIs"><span
				style="font-weight: 400;">REST API</span></a><span
				style="font-weight: 400;"> &lsquo;MockAPI&rsquo; to mimic the
				backend.</span>
		</p>
		<p>
			<span style="font-weight: 400;">UserRegistrationService proxy
				service receives the requests and store it to the massage store. The
				message processor periodically polls from the message store and
				forwards the messages to the specified endpoint. The response return
				from the endpoint is injected to the response sequence. This payload
				will be logged and dropped at the end.</span>
		</p>
		<h3>Executing the sample</h3>
		<ol>
			<li><span style="font-weight: 400;"> Configure Message
					Broker </span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Refer to this </span><a
				href="https://docs.wso2.com/display/EI6xx/Configure+with+the+Broker+Profile"><span
				style="font-weight: 400;">resource</span></a><span
				style="font-weight: 400;"> and configure the Message Broker.</span>
		</p>
		<ol start="2">
			<li><span style="font-weight: 400;"> Configure EI server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Attach an EI server runtime
				into the Developer Studio following the instructions given below (if
				you haven&rsquo;t already done).</span>
		</p>
		<p>
			<span style="font-weight: 400;">Navigate to the Developer
				Studio Dashboard and click </span><strong>Server</strong><span
				style="font-weight: 400;"> under </span><strong>Add Server</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">In the &lsquo;</span><strong>Define
				a New Server</strong><span style="font-weight: 400;">&rsquo; dialog
				box, expand the WSO2 folder, and select the respective product and
				version.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Click </span><strong>Next</strong><span
				style="font-weight: 400;">, click </span><strong>Browse</strong><span
				style="font-weight: 400;"> that is next to CARBON_HOME, and
				select the WSO2 EI distribution directory, to define the server
				runtime environment and click </span><strong>Next</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Review the default port
				details for the ESB profile of WSO2 EI. Typically, you can leave
				these unchanged, but if you are already running another server on
				these ports, specify unused ports here. (See </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Default+Ports+of+WSO2+Products"><span
				style="font-weight: 400;">Default Ports of WSO2 Products</span></a><span
				style="font-weight: 400;"> for more information.) Click </span><strong>Next</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<ol start="3">
			<li><span style="font-weight: 400;"> Deploy the CApp
					project.</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">To deploy the CApp project in
				the ESB server that we just added, select relevant project from the
				list, click </span><strong>Add</strong><span style="font-weight: 400;">
				to move it into the Configured list, and then click </span><strong>Finish</strong><span
				style="font-weight: 400;">.</span>
		</p>
		<p>
			<span style="font-weight: 400;">Please refer to </span><a
				href="https://docs.wso2.com/display/ADMIN44x/Deploying+Composite+Applications+in+the+Server#DeployingCompositeApplicationsintheServer-DeployingusingtheToolinginterface"><span
				style="font-weight: 400;">this resource</span></a><span
				style="font-weight: 400;"> for more information.</span>
		</p>
		<p>
			<span style="font-weight: 400;">The ESB server of WSO2 EI is
				now added inside Eclipse tooling.</span>
		</p>
		<ol start="4">
			<li><span style="font-weight: 400;"> Start the server</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">You will see that the server
				is currently stopped. Click </span><strong>Play </strong><span
				style="font-weight: 400;">butto</span><strong>n </strong><span
				style="font-weight: 400;">on the toolbar to start the server.
			</span>
		</p>
		<p>
			<span style="font-weight: 400;">If you are prompted to save
				changes to any of the artifact files, click </span><strong>Yes</strong><span
				style="font-weight: 400;">. </span>
		</p>
		<p>
			<span style="font-weight: 400;">As the server starts, the
				Console tab will appear. You should see messages indicating that the
				C-App was successfully deployed. The C-App will now be available in
				the ESB profile's management console (</span><strong>Manage -&gt;
				Carbon Applications -&gt; List</strong><span style="font-weight: 400;">).</span>
		</p>
		<ol start="5">
			<li><span style="font-weight: 400;"> Invoke the service</span></li>
		</ol>
		<p>
			<span style="font-weight: 400;">Use an HTTP client like cURL
				to invoke the service.</span>
		</p>
		<p>
			<span style="font-weight: 400;">curl -X POST -d @request.json
				&nbsp;http://localhost:8280/services/UserRegistrationService -H
				"Content-Type: application/json"</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">Request.json can be a file which
				has following content.</span><span style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;"><br /></span><span
				style="font-weight: 400;">{</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"id": 1,</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"name": "Leanne
				Graham",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"username": "Bret",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"email":
				"Sincere@april.biz",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"address": {</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"street": "Kulas Light",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"suite": "Apt. 556",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"city": "Gwenborough",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"zipcode": "92998-3874",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"geo": {</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;</span><span
				style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"lat": "-37.3159",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;</span><span
				style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"lng": "81.1496"</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">}</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;},</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"phone":
				"1-770-736-8031 x56442",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"website":
				"hildegard.org",</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;"company": {</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"name": "Romaguera-Crona",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"catchPhrase": "Multi-layered
				client-server neural-net",</span>
		</p>
		<p>
			<span style="font-weight: 400;">&nbsp;&nbsp;&nbsp; </span><span
				style="font-weight: 400;">"bs": "harness real-time e-markets"</span>
		</p>
		<p>
			<span style="font-weight: 400;"> &nbsp;}</span>
		</p>
		<p>
			<span style="font-weight: 400;">}</span>
		</p>
	</div>
</body>
</html>
